/**
 * 工具类和动画
 * 
 * 包含页面动画、骨架加载、下拉刷新、错误抖动、FAB 样式等
 */

/* ==================== 页面过渡动画 ==================== */

.page {
  animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ==================== 骨架加载动画 ==================== */

.skeleton {
  background: linear-gradient(90deg,
      var(--monet-surface-container, var(--mdui-color-surface-container)) 25%,
      var(--monet-surface-container-high, var(--mdui-color-surface-container-high)) 50%,
      var(--monet-surface-container, var(--mdui-color-surface-container)) 75%);
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s ease-in-out infinite;
  border-radius: 4px;
}

.skeleton-circle {
  border-radius: 50%;
}

.skeleton-text {
  height: 14px;
  margin: 4px 0;
}

@keyframes skeleton-loading {
  0% {
    background-position: 200% 0;
  }

  100% {
    background-position: -200% 0;
  }
}

/* ==================== 下拉刷新指示器 ==================== */

.pull-indicator {
  position: fixed;
  top: 64px;
  left: 50%;
  transform: translateX(-50%) translateY(-100%);
  transition: transform 0.3s ease;
  z-index: 1000;
}

.pull-indicator.active {
  transform: translateX(-50%) translateY(0);
}

/* ==================== 错误抖动动画 ==================== */

@keyframes shake {
  0%,
  100% {
    transform: translateX(0);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-5px);
  }

  20%,
  40%,
  60%,
  80% {
    transform: translateX(5px);
  }
}

.error-shake {
  animation: shake 0.5s;
}

/* ==================== 悬浮操作按钮 (FAB) ==================== */

#service-fab {
  position: fixed;
  right: calc(16px + var(--window-inset-right, 0px));
  /* 底部：导航栏高度 (80px) + 额外间距 (16px) + 系统 inset */
  bottom: calc(96px + var(--window-inset-bottom, 0px));
  z-index: 150;
}

/* FAB 加载动画 */
.rotating {
  animation: rotate 1s linear infinite;
}

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}